<!doctype html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<title>Faux TikTok Beta — iOS7</title>
<style>
  html, body {margin:0; padding:0; height:100%; background:#000; overflow:hidden; font-family:sans-serif;}
  .video-wrapper {position:relative; width:100%; height:100%; overflow:hidden;}
  video {position:absolute; top:0; left:0; width:100%; height:100%; min-width:100%; min-height:100%;}
  .overlay {position:absolute; bottom:20px; left:20px; color:#fff; font-size:16px; text-shadow:0 0 6px #000;}
  .btn {position:absolute; top:20px; right:20px; background:#00d4ff; color:#000; padding:6px 10px; border-radius:8px; font-weight:bold;}
</style>
</head>
<body>
<div class="video-wrapper">
  <video id="videoPlayer" autoplay muted webkit-playsinline>
    <source src="1.mp4" type="video/mp4">
    Votre navigateur ne supporte pas la vidéo.
  </video>
  <div class="overlay" id="videoLabel">Vidéo 1</div>
  <div class="btn" onclick="nextVideo()">Suivant ▶</div>
</div>

<script>
var videos = ["1.mp4","2.mp4","3.mp4","4.mp4","5.mp4"];
var current = 0;
var videoPlayer = document.getElementById('videoPlayer');
var videoLabel = document.getElementById('videoLabel');

function nextVideo(){
  current = (current + 1) % videos.length;
  videoPlayer.src = videos[current];
  videoPlayer.load();
  videoPlayer.play();
  videoLabel.textContent = "Vidéo " + (current + 1);
}

// Rejouer vidéo après ended pour iOS 7
videoPlayer.addEventListener('ended', function(){ videoPlayer.play(); }, false);

// Swipe simple pour mobile iOS
var startY = 0;
videoPlayer.addEventListener('touchstart', function(e){ startY = e.touches[0].clientY; });
videoPlayer.addEventListener('touchend', function(e){
  var diff = e.changedTouches[0].clientY - startY;
  if(diff < -50) nextVideo(); // swipe up
});
</script>
</body>
</html>
